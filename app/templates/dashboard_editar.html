<!DOCTYPE html>
<html class="light" lang="es"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Editar Rifa - Borealis</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script id="tailwind-config">
tailwind.config = {
darkMode: "class",
theme: {
extend: {
colors: {
"primary": "#ec5b13",
"background-light": "#f8f6f6",
"background-dark": "#221610",
},
fontFamily: {
"display": ["Public Sans", "sans-serif"]
},
borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
},
},
}
</script>
<style>
.glass {
background: rgba(255, 255, 255, 0.7);
backdrop-filter: blur(12px);
-webkit-backdrop-filter: blur(12px);
border: 1px solid rgba(255, 255, 255, 0.3);
}
.dark .glass {
background: rgba(34, 22, 16, 0.7);
border: 1px solid rgba(255, 255, 255, 0.1);
}
.borealis-bg {
background: radial-gradient(circle at 0% 0%, rgba(236, 91, 19, 0.15) 0%, transparent 50%),
radial-gradient(circle at 100% 100%, rgba(43, 238, 205, 0.15) 0%, transparent 50%);
}
</style>
<style>
body {
min-height: max(884px, 100dvh);
}
</style>
</head>
<body class="font-display bg-background-light dark:bg-background-dark min-h-screen borealis-bg text-slate-800 dark:text-slate-100">
<header class="sticky top-0 z-50 glass px-4 py-4 flex items-center justify-between shadow-sm">
<button class="flex items-center justify-center size-10 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors" onclick="window.location.href='{{ url_for('dashboard_rifas') }}'">
<span class="material-symbols-outlined">arrow_back</span>
</button>
<h1 class="text-lg font-semibold tracking-tight">Editar Rifa</h1>
<div class="size-10"></div>
</header>
<main class="max-w-xl mx-auto px-4 py-6 space-y-6 pb-24">
<form action="{{ url_for('actualizar_rifa', rifa_id=rifa.id) }}" method="POST" enctype="multipart/form-data" class="space-y-6">
<section class="space-y-3">
<label class="text-sm font-medium px-1 text-slate-500 dark:text-slate-400">Imagen del Libro</label>
<div class="relative group cursor-pointer overflow-hidden rounded-xl aspect-video glass flex flex-col items-center justify-center border-2 border-dashed border-primary/30 hover:border-primary transition-all" onclick="document.getElementById('imagen').click()">
<input type="file" id="imagen" name="imagen" accept="image/*" class="hidden" onchange="previewImage(event)">
<div id="placeholder" class="absolute inset-0 opacity-10 pointer-events-none bg-[radial-gradient(#ec5b13_1px,transparent_1px)] [background-size:16px_16px]"></div>
<div id="preview-container" class="{% if rifa.imagen %}{% else %}hidden{% endif %} absolute inset-0">
<img id="preview" class="w-full h-full object-cover" {% if rifa.imagen %}src="{{ url_for('static', filename='uploads/' + rifa.imagen) }}"{% endif %}>
</div>
<div id="upload-content" class="{% if rifa.imagen %}hidden{% endif %} relative z-10 flex flex-col items-center gap-3">
<div class="size-14 bg-primary/10 text-primary rounded-full flex items-center justify-center">
<span class="material-symbols-outlined text-3xl">add_a_photo</span>
</div>
<div class="text-center">
<p class="font-medium">Subir Imagen del Libro</p>
<p class="text-xs text-slate-400 mt-1">Sugerido: 16:9, máx 5MB</p>
</div>
<button type="button" class="mt-2 bg-primary text-white px-5 py-2 rounded-lg text-sm font-bold shadow-lg shadow-primary/20 hover:scale-105 active:scale-95 transition-transform">
Seleccionar Archivo
</button>
</div>
</div>
</section>
<div class="space-y-4">
<div class="glass p-4 rounded-xl space-y-2">
<label class="flex items-center gap-2 text-sm font-medium text-slate-600 dark:text-slate-300">
<span class="material-symbols-outlined text-primary text-sm">book</span>
Nombre del Libro
</label>
<input name="nombre" value="{{ rifa.nombre }}" required class="w-full bg-transparent border-none focus:ring-0 p-0 text-lg placeholder:text-slate-400 font-medium" placeholder="Ej. Cien Años de Soledad" type="text"/>
</div>
<div class="glass p-4 rounded-xl space-y-2">
<label class="flex items-center gap-2 text-sm font-medium text-slate-600 dark:text-slate-300">
<span class="material-symbols-outlined text-primary text-sm">payments</span>
Costo por Boleto
</label>
<div class="flex items-center gap-1">
<span class="text-lg font-bold text-slate-400">$</span>
<input name="precio" value="{{ rifa.precio }}" required class="w-full bg-transparent border-none focus:ring-0 p-0 text-lg font-bold placeholder:text-slate-400" placeholder="0.00" type="number" step="0.01"/>
</div>
</div>
<div class="glass p-4 rounded-xl space-y-2 opacity-50 pointer-events-none">
<label class="flex items-center gap-2 text-sm font-medium text-slate-600 dark:text-slate-300">
<span class="material-symbols-outlined text-primary text-sm">pin</span>
Cantidad de Números (No editable)
</label>
<input value="{{ rifa.cantidad_numeros }}" disabled class="w-full bg-transparent border-none focus:ring-0 p-0 text-lg font-bold text-slate-400" type="number"/>
</div>
</div>
<button type="submit" class="w-full bg-primary text-white py-4 rounded-xl font-bold text-lg shadow-xl shadow-primary/30 hover:brightness-110 active:scale-[0.98] transition-all flex items-center justify-center gap-2">
<span class="material-symbols-outlined">save</span>
Guardar Cambios
</button>
</form>
</main>
<script>
function previewImage(event) {
const file = event.target.files[0];
if (file) {
const reader = new FileReader();
reader.onload = function(e) {
document.getElementById('preview').src = e.target.result;
document.getElementById('preview-container').classList.remove('hidden');
document.getElementById('upload-content').classList.add('hidden');
}
reader.readAsDataURL(file);
}
}
</script>
</body></html>
